<!DOCTYPE html>
<html lang='pt-br'>

<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <title>Login</title>
  <style>
    body {
      background-color: #FCDFFF;
    }

    .inputsection {
      background-color: #660000;
      color: white;
      width: 400px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding-bottom: 50px;
      box-shadow: 5px 5px black;
      border-radius: 10px 10px;
    }
  </style>
</head>

<body>

  <div class='inputsection'>
    <h1 style="text-align: center;"> Register: </h1>
    <h2 style='text-align: center;'> New Name: </h2>
    <input type='text' name='name' value='' style='display: block; margin: 0 auto;' id='name'>
    <h2 style='text-align: center;'> New Password: </h2>
    <input type='text' name='password' value='' style='display: block; margin: 0 auto;' id='password'>
    <br>
    <input type='button' value='Login' style='display: block; margin: 0 auto;'
      onclick='setUrl("http://localhost:3000")'>
    <input type='button' value='Confirm' style='display: block; margin: 0 auto;' onclick='register()'>
  </div>

  <!--Scripts-->
  <script>
    const userName = document.getElementById('name');
    const userPassword = document.getElementById('password');

    function setUrl(_newUrl) {
      history.pushState({}, null, _newUrl);
      window.location.reload();
    }
    async function register() {
      if (!(userName.value === '' && userPassword.value === '')) {
        const data = {
          name: userName.value,
          password: userPassword.value,
        }

        const response = await fetch('http://localhost:3000/cadaster', {
          method: 'POST',
          body: JSON.stringify(data),
          headers: {
            'Content-Type': 'application/json'
          },
        });
      }
    }
  </script>

</body>

</html>
